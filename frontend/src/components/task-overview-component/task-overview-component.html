@let tasks = (tasks$ | async) ?? [];

<div class="flex justify-content-between align-items-center" style="min-width: 50rem; margin-bottom: 0.5rem;">
    <h2>Aufgaben</h2>
    <button pButton icon="pi pi-folder-plus" (click)="onCreateTask()">Aufgabe hinzuf√ºgen</button>
</div>
<p-table [value]="tasks" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template #header>
        <tr>
            <th>ID</th>
            <th>Titel</th>
            <th>Beschreibung</th>
            <th>Status</th>
            <th>Projekt ID</th>
            <th>Erstellt am</th>
            <th>Aktualisiert am</th>
            <th>Details</th>
        </tr>
    </ng-template>
    <ng-template #body let-task>
        <tr>
            <td>{{ task.id }}</td>
            <td>{{ task.title }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.status }}</td>
            <td>{{ task.projectId ?? '' }}</td>
            <td>{{ task.createdAt | date:'dd.MM.yyyy' }}</td>
            <td>{{ task.updatedAt | date:'dd.MM.yyyy' }}</td>
            <td>
                <div class="flex gap-2">
                    <button pButton icon="pi pi-search" class="p-button-rounded p-button-text"
                        (click)="onViewTask(task)">
                    </button>

                    <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-text"
                        (click)="onEditTask(task)">
                    </button>

                    <button pButton icon="pi pi-trash" class="p-button-rounded p-button-text"
                        (click)="onDeleteTask(task)">
                    </button>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>
<p-confirmdialog />
